import{S as B,i as F,s as G,d as v,m as w,o as y,p as H,q as J,t as g,e as I,a as N,y as h,c as D,f as p,g as k,C as K,z as S,h as b,D as O,A as E,E as V,F as W,G as X,H as P,k as Y,I as Q,J as R,K as Z,L as T,j as $}from"./index.Cd2kBaV7.js";import{e as j}from"./each.-gASlQSi.js";import{s as x}from"./selectedEntryStore.CW8nytoz.js";import"./index.Mc1atRao.js";function ee(s){const e=s-1;return e*e*e+1}function M(s,{delay:e=0,duration:t=400,easing:n=ee,start:i=0,opacity:c=0}={}){const o=getComputedStyle(s),r=+o.opacity,l=o.transform==="none"?"":o.transform,a=1-i,_=r*(1-c);return{delay:e,duration:t,easing:n,css:(f,u)=>`
			transform: ${l} scale(${1-a*u});
			opacity: ${r-_*u}
		`}}function q(s){let e,t=s[0].year+"",n,i,c;return{c(){e=b("div"),n=O(t),this.h()},l(o){e=p(o,"DIV",{class:!0});var r=k(e);n=K(r,t),r.forEach(v),this.h()},h(){D(e,"class","absolute right-0 top-3/4 text-2xs text-accent sm:text-xs")},m(o,r){N(o,e,r),h(e,n),c=!0},p(o,r){(!c||r&1)&&t!==(t=o[0].year+"")&&X(n,t)},i(o){c||(o&&W(()=>{c&&(i||(i=V(e,M,{duration:100},!0)),i.run(1))}),c=!0)},o(o){o&&(i||(i=V(e,M,{duration:100},!1)),i.run(0)),c=!1},d(o){o&&v(e),o&&i&&i.end()}}}function te(s){let e,t,n,i,c,o,r=s[1]&&s[0]!=="now"&&q(s);return{c(){e=b("div"),t=b("div"),n=O(s[4]),i=E(),r&&r.c(),c=E(),o=b("div"),this.h()},l(l){e=p(l,"DIV",{class:!0,style:!0});var a=k(e);t=p(a,"DIV",{class:!0});var _=k(t);n=K(_,s[4]),i=S(_),r&&r.l(_),_.forEach(v),c=S(a),o=p(a,"DIV",{class:!0}),k(o).forEach(v),a.forEach(v),this.h()},h(){D(t,"class","relative origin-right text-right transition-transform sm:text-lg"),g(t,"font-thin",!s[1]),g(t,"scale-75",s[2]&&!s[1]),g(t,"scale-125",s[1]),g(t,"font-bold",s[1]),D(o,"class","inline-block h-0.5 w-4 bg-foreground"),D(e,"class","relative flex min-w-[60px] translate-y-1/2 items-center justify-end gap-2 self-end justify-self-end sm:min-w-[80px] sm:gap-4"),I(e,"grid-row-start",s[3])},m(l,a){N(l,e,a),h(e,t),h(t,n),h(t,i),r&&r.m(t,null),h(e,c),h(e,o)},p(l,[a]){l[1]&&l[0]!=="now"?r?(r.p(l,a),a&3&&y(r,1)):(r=q(l),r.c(),y(r,1),r.m(t,null)):r&&(H(),w(r,1,1,()=>{r=null}),J()),a&2&&g(t,"font-thin",!l[1]),a&6&&g(t,"scale-75",l[2]&&!l[1]),a&2&&g(t,"scale-125",l[1]),a&2&&g(t,"font-bold",l[1]),a&8&&I(e,"grid-row-start",l[3])},i(l){y(r)},o(l){w(r)},d(l){l&&v(e),r&&r.d()}}}function ne(s,e,t){let{monthDate:n}=e,{selected:i}=e,{anySelected:c}=e,{rowNum:o}=e;const r=n==="now"?"Now":new Date(n.year,n.month-1).toLocaleString("en-us",{month:"short"});return s.$$set=l=>{"monthDate"in l&&t(0,n=l.monthDate),"selected"in l&&t(1,i=l.selected),"anySelected"in l&&t(2,c=l.anySelected),"rowNum"in l&&t(3,o=l.rowNum)},[n,i,c,o,r]}class U extends B{constructor(e){super(),F(this,e,ne,te,G,{monthDate:0,selected:1,anySelected:2,rowNum:3})}}function L(s,e,t){const n=s.slice();return n[3]=e[t].month,n[4]=e[t].year,n[6]=t,n}function z(s){let e,t;return e=new U({props:{monthDate:{month:s[3],year:s[4]},anySelected:!!s[1],selected:A(s[1],s[3],s[4]),rowNum:s[6]+3}}),{c(){T(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,i){Q(e,n,i),t=!0},p(n,i){const c={};i&1&&(c.monthDate={month:n[3],year:n[4]}),i&2&&(c.anySelected=!!n[1]),i&3&&(c.selected=A(n[1],n[3],n[4])),e.$set(c)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function se(s){let e,t,n,i,c="...",o,r;t=new U({props:{monthDate:"now",anySelected:!!s[1],selected:!!s[1]&&s[1].data.periods.some(s[2]),rowNum:1}});let l=j(s[0]),a=[];for(let f=0;f<l.length;f+=1)a[f]=z(L(s,l,f));const _=f=>w(a[f],1,1,()=>{a[f]=null});return{c(){e=b("div"),T(t.$$.fragment),n=E(),i=b("div"),i.textContent=c,o=E();for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=p(f,"DIV",{class:!0,style:!0});var u=k(e);R(t.$$.fragment,u),n=S(u),i=p(u,"DIV",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-sync09"&&(i.textContent=c),o=S(u);for(let d=0;d<a.length;d+=1)a[d].l(u);u.forEach(v),this.h()},h(){D(i,"class","relative row-start-2 translate-y-1/2 self-end justify-self-end"),D(e,"class","col-start-1 grid grid-cols-1 grid-rows-subgrid gap-y-0"),I(e,"grid-row","1 / -1")},m(f,u){N(f,e,u),Q(t,e,null),h(e,n),h(e,i),h(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);r=!0},p(f,[u]){const d={};if(u&2&&(d.anySelected=!!f[1]),u&2&&(d.selected=!!f[1]&&f[1].data.periods.some(f[2])),t.$set(d),u&3){l=j(f[0]);let m;for(m=0;m<l.length;m+=1){const C=L(f,l,m);a[m]?(a[m].p(C,u),y(a[m],1)):(a[m]=z(C),a[m].c(),y(a[m],1),a[m].m(e,null))}for(H(),m=l.length;m<a.length;m+=1)_(m);J()}},i(f){if(!r){y(t.$$.fragment,f);for(let u=0;u<l.length;u+=1)y(a[u]);r=!0}},o(f){w(t.$$.fragment,f),a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)w(a[u]);r=!1},d(f){f&&v(e),P(t),Y(a,f)}}}function A(s,e,t){return s?s.data.periods.some(n=>n.start.month===e&&n.start.year===t||n.end?.month===e&&n.end?.year===t):!1}function ae(s,e,t){let n;$(s,x,o=>t(1,n=o));let{monthDates:i}=e;const c=({end:o})=>o===void 0;return s.$$set=o=>{"monthDates"in o&&t(0,i=o.monthDates)},[i,n,c]}class fe extends B{constructor(e){super(),F(this,e,ae,se,G,{monthDates:0})}}export{fe as default};

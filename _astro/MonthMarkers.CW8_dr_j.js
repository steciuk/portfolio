import{S as G,i as H,s as J,e as y,C as K,l as S,c as D,a as k,D as O,m as I,d as v,b as p,w as g,n as N,f as C,p as h,t as w,v as z,h as b,g as A,E as W,F as X,G as j,H as P,I as Q,J as Y,K as R,L as T,j as Z,B as $}from"./index.BBMgRIs4.js";import{e as E}from"./each.-gASlQSi.js";import{s as x}from"./selectedEntryStore.CW8nytoz.js";import"./index.Mc1atRao.js";function ee(n){const e=n-1;return e*e*e+1}function M(n,{delay:e=0,duration:t=400,easing:a=ee,start:o=0,opacity:c=0}={}){const i=getComputedStyle(n),r=+i.opacity,l=i.transform==="none"?"":i.transform,s=1-o,_=r*(1-c);return{delay:e,duration:t,easing:a,css:(f,u)=>`
			transform: ${l} scale(${1-s*u});
			opacity: ${r-_*u}
		`}}function B(n){let e,t=n[0].year+"",a,o,c;return{c(){e=y("div"),a=K(t),this.h()},l(i){e=D(i,"DIV",{class:!0});var r=k(e);a=O(r,t),r.forEach(v),this.h()},h(){p(e,"class","absolute right-0 top-3/4 text-2xs text-accent sm:text-xs")},m(i,r){C(i,e,r),h(e,a),c=!0},p(i,r){(!c||r&1)&&t!==(t=i[0].year+"")&&W(a,t)},i(i){c||(i&&X(()=>{c&&(o||(o=j(e,M,{duration:100},!0)),o.run(1))}),c=!0)},o(i){i&&(o||(o=j(e,M,{duration:100},!1)),o.run(0)),c=!1},d(i){i&&v(e),i&&o&&o.end()}}}function te(n){let e,t,a,o,c,i,r=n[1]&&n[0]!=="now"&&B(n);return{c(){e=y("div"),t=y("div"),a=K(n[4]),o=S(),r&&r.c(),c=S(),i=y("div"),this.h()},l(l){e=D(l,"DIV",{class:!0,style:!0});var s=k(e);t=D(s,"DIV",{class:!0});var _=k(t);a=O(_,n[4]),o=I(_),r&&r.l(_),_.forEach(v),c=I(s),i=D(s,"DIV",{class:!0}),k(i).forEach(v),s.forEach(v),this.h()},h(){p(t,"class","relative origin-right text-right transition-transform sm:text-lg"),g(t,"font-thin",!n[1]),g(t,"scale-75",n[2]&&!n[1]),g(t,"scale-125",n[1]),g(t,"font-bold",n[1]),p(i,"class","inline-block h-0.5 w-4 bg-foreground"),p(e,"class","relative flex min-w-[60px] translate-y-1/2 items-center justify-end gap-2 self-end justify-self-end sm:min-w-[80px] sm:gap-4"),N(e,"grid-row-start",n[3])},m(l,s){C(l,e,s),h(e,t),h(t,a),h(t,o),r&&r.m(t,null),h(e,c),h(e,i)},p(l,[s]){l[1]&&l[0]!=="now"?r?(r.p(l,s),s&3&&w(r,1)):(r=B(l),r.c(),w(r,1),r.m(t,null)):r&&(z(),b(r,1,1,()=>{r=null}),A()),s&2&&g(t,"font-thin",!l[1]),s&6&&g(t,"scale-75",l[2]&&!l[1]),s&2&&g(t,"scale-125",l[1]),s&2&&g(t,"font-bold",l[1]),s&8&&N(e,"grid-row-start",l[3])},i(l){w(r)},o(l){b(r)},d(l){l&&v(e),r&&r.d()}}}function ne(n,e,t){let{monthDate:a}=e,{selected:o}=e,{anySelected:c}=e,{rowNum:i}=e;const r=a==="now"?"Now":new Date(a.year,a.month-1).toLocaleString("en-us",{month:"short"});return n.$$set=l=>{"monthDate"in l&&t(0,a=l.monthDate),"selected"in l&&t(1,o=l.selected),"anySelected"in l&&t(2,c=l.anySelected),"rowNum"in l&&t(3,i=l.rowNum)},[a,o,c,i,r]}class U extends G{constructor(e){super(),H(this,e,ne,te,J,{monthDate:0,selected:1,anySelected:2,rowNum:3})}}function L(n,e,t){const a=n.slice();return a[2]=e[t].month,a[3]=e[t].year,a[5]=t,a}function q(n){let e,t;return e=new U({props:{monthDate:{month:n[2],year:n[3]},anySelected:!!n[1],selected:F(n[1],n[2],n[3]),rowNum:n[5]+3}}),{c(){P(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,o){R(e,a,o),t=!0},p(a,o){const c={};o&1&&(c.monthDate={month:a[2],year:a[3]}),o&2&&(c.anySelected=!!a[1]),o&3&&(c.selected=F(a[1],a[2],a[3])),e.$set(c)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){b(e.$$.fragment,a),t=!1},d(a){T(e,a)}}}function ae(n){let e,t,a,o,c="...",i,r;t=new U({props:{monthDate:"now",anySelected:!!n[1],selected:!!n[1]&&n[1].data.end===void 0,rowNum:1}});let l=E(n[0]),s=[];for(let f=0;f<l.length;f+=1)s[f]=q(L(n,l,f));const _=f=>b(s[f],1,1,()=>{s[f]=null});return{c(){e=y("div"),P(t.$$.fragment),a=S(),o=y("div"),o.textContent=c,i=S();for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=D(f,"DIV",{class:!0,style:!0});var u=k(e);Q(t.$$.fragment,u),a=I(u),o=D(u,"DIV",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-sync09"&&(o.textContent=c),i=I(u);for(let m=0;m<s.length;m+=1)s[m].l(u);u.forEach(v),this.h()},h(){p(o,"class","relative row-start-2 translate-y-1/2 self-end justify-self-end"),p(e,"class","col-start-1 grid grid-cols-1 grid-rows-subgrid gap-y-0"),N(e,"grid-row","1 / -1")},m(f,u){C(f,e,u),R(t,e,null),h(e,a),h(e,o),h(e,i);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(e,null);r=!0},p(f,[u]){const m={};if(u&2&&(m.anySelected=!!f[1]),u&2&&(m.selected=!!f[1]&&f[1].data.end===void 0),t.$set(m),u&3){l=E(f[0]);let d;for(d=0;d<l.length;d+=1){const V=L(f,l,d);s[d]?(s[d].p(V,u),w(s[d],1)):(s[d]=q(V),s[d].c(),w(s[d],1),s[d].m(e,null))}for(z(),d=l.length;d<s.length;d+=1)_(d);A()}},i(f){if(!r){w(t.$$.fragment,f);for(let u=0;u<l.length;u+=1)w(s[u]);r=!0}},o(f){b(t.$$.fragment,f),s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)b(s[u]);r=!1},d(f){f&&v(e),T(t),Z(s,f)}}}function F(n,e,t){return n?n.data.end?.month===e&&n.data.end?.year===t||n.data.start.month===e&&n.data.start.year===t:!1}function se(n,e,t){let a;$(n,x,c=>t(1,a=c));let{monthDates:o}=e;return n.$$set=c=>{"monthDates"in c&&t(0,o=c.monthDates)},[o,a]}class fe extends G{constructor(e){super(),H(this,e,se,ae,J,{monthDates:0})}}export{fe as default};

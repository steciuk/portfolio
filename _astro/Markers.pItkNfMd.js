import{S as Y,i as Z,s as x,e as y,C as H,l as E,c as S,a as p,D as A,m as I,d as g,b as P,w,n as C,f as N,p as m,t as D,v as $,h as M,g as ee,E as te,F as ne,G as z,H as j,I as q,J as F,K as G,j as ae,B as le,L as Q,M as re}from"./index.5ihJ0-6M.js";import{e as R}from"./each.-gASlQSi.js";import{s as se}from"./selectedEntryStore.CW8nytoz.js";import"./index.Mc1atRao.js";function oe(a){const e=a-1;return e*e*e+1}function T(a,{delay:e=0,duration:t=400,easing:s=oe,start:l=0,opacity:c=0}={}){const i=getComputedStyle(a),o=+i.opacity,r=i.transform==="none"?"":i.transform,n=1-l,v=o*(1-c);return{delay:e,duration:t,easing:s,css:(f,h)=>`
			transform: ${r} scale(${1-n*h});
			opacity: ${o-v*h}
		`}}function U(a){let e,t=a[1].year+"",s,l,c;return{c(){e=y("div"),s=H(t),this.h()},l(i){e=S(i,"DIV",{class:!0});var o=p(e);s=A(o,t),o.forEach(g),this.h()},h(){P(e,"class","absolute right-0 top-3/4 text-xs text-primary")},m(i,o){N(i,e,o),m(e,s),c=!0},p(i,o){(!c||o&2)&&t!==(t=i[1].year+"")&&te(s,t)},i(i){c||(i&&ne(()=>{c&&(l||(l=z(e,T,{duration:100},!0)),l.run(1))}),c=!0)},o(i){i&&(l||(l=z(e,T,{duration:100},!1)),l.run(0)),c=!1},d(i){i&&g(e),i&&l&&l.end()}}}function ie(a){let e,t,s,l,c,i,o=a[2]&&a[1]!=="now"&&U(a);return{c(){e=y("div"),t=y("div"),s=H(a[4]),l=E(),o&&o.c(),c=E(),i=y("div"),this.h()},l(r){e=S(r,"DIV",{class:!0,style:!0});var n=p(e);t=S(n,"DIV",{class:!0});var v=p(t);s=A(v,a[4]),l=I(v),o&&o.l(v),v.forEach(g),c=I(n),i=S(n,"DIV",{class:!0}),p(i).forEach(g),n.forEach(g),this.h()},h(){P(t,"class","relative origin-right text-right transition-transform"),w(t,"font-thin",!a[2]),w(t,"scale-75",a[3]&&!a[2]),w(t,"scale-110",a[2]),w(t,"font-bold",a[2]),P(i,"class","inline-block h-0.5 w-4 bg-foreground"),P(e,"class","flex items-center gap-2"),C(e,"height",a[0]+"px")},m(r,n){N(r,e,n),m(e,t),m(t,s),m(t,l),o&&o.m(t,null),m(e,c),m(e,i)},p(r,[n]){r[2]&&r[1]!=="now"?o?(o.p(r,n),n&6&&D(o,1)):(o=U(r),o.c(),D(o,1),o.m(t,null)):o&&($(),M(o,1,1,()=>{o=null}),ee()),n&4&&w(t,"font-thin",!r[2]),n&12&&w(t,"scale-75",r[3]&&!r[2]),n&4&&w(t,"scale-110",r[2]),n&4&&w(t,"font-bold",r[2]),n&1&&C(e,"height",r[0]+"px")},i(r){D(o)},o(r){M(o)},d(r){r&&g(e),o&&o.d()}}}function fe(a,e,t){let{heightPx:s}=e,{monthDate:l}=e,{selected:c}=e,{anySelected:i}=e;const o=l==="now"?"Now":new Date(l.year,l.month-1).toLocaleString("en-us",{month:"long"});return a.$$set=r=>{"heightPx"in r&&t(0,s=r.heightPx),"monthDate"in r&&t(1,l=r.monthDate),"selected"in r&&t(2,c=r.selected),"anySelected"in r&&t(3,i=r.anySelected)},[s,l,c,i,o]}class J extends Y{constructor(e){super(),Z(this,e,fe,ie,x,{heightPx:0,monthDate:1,selected:2,anySelected:3})}}function W(a,e,t){const s=a.slice();return s[6]=e[t].month,s[7]=e[t].year,s}function ce(a){let e,t;return e=new J({props:{monthDate:{month:a[6],year:a[7]},heightPx:a[0],anySelected:!!a[1],selected:L(a[1],a[6],a[7])}}),{c(){j(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,l){F(e,s,l),t=!0},p(s,l){const c={};l&1&&(c.heightPx=s[0]),l&2&&(c.anySelected=!!s[1]),l&2&&(c.selected=L(s[1],s[6],s[7])),e.$set(c)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function he(a){let e,t,s,l,c,i=a[7]-1+"",o,r,n,v="|",f,h,d=a[7]+"",u,V,B;return t=new J({props:{monthDate:{month:a[6],year:a[7]},heightPx:a[0],anySelected:!!a[1],selected:L(a[1],a[6],a[7])}}),{c(){e=y("div"),j(t.$$.fragment),s=E(),l=y("div"),c=y("span"),o=H(i),r=E(),n=y("span"),n.textContent=v,f=E(),h=y("span"),u=H(d),V=E(),this.h()},l(_){e=S(_,"DIV",{class:!0});var b=p(e);q(t.$$.fragment,b),s=I(b),l=S(b,"DIV",{class:!0,style:!0});var k=p(l);c=S(k,"SPAN",{});var K=p(c);o=A(K,i),K.forEach(g),r=I(k),n=S(k,"SPAN",{class:!0,"data-svelte-h":!0}),re(n)!=="svelte-1bxars2"&&(n.textContent=v),f=I(k),h=S(k,"SPAN",{});var O=p(h);u=A(O,d),O.forEach(g),k.forEach(g),V=I(b),b.forEach(g),this.h()},h(){P(n,"class","font-thin"),P(l,"class","pointer-events-none absolute bottom-0 right-2 flex min-h-max origin-center translate-y-1/2 rotate-180 select-none gap-2 text-7xl font-bold text-foreground/10"),C(l,"writing-mode","vertical-lr"),C(l,"text-orientation","sideways"),P(e,"class","relative")},m(_,b){N(_,e,b),F(t,e,null),m(e,s),m(e,l),m(l,c),m(c,o),m(l,r),m(l,n),m(l,f),m(l,h),m(h,u),m(e,V),B=!0},p(_,b){const k={};b&1&&(k.heightPx=_[0]),b&2&&(k.anySelected=!!_[1]),b&2&&(k.selected=L(_[1],_[6],_[7])),t.$set(k)},i(_){B||(D(t.$$.fragment,_),B=!0)},o(_){M(t.$$.fragment,_),B=!1},d(_){_&&g(e),G(t)}}}function X(a){let e,t,s,l;const c=[he,ce],i=[];function o(r,n){return r[6]===1?0:1}return e=o(a),t=i[e]=c[e](a),{c(){t.c(),s=Q()},l(r){t.l(r),s=Q()},m(r,n){i[e].m(r,n),N(r,s,n),l=!0},p(r,n){t.p(r,n)},i(r){l||(D(t),l=!0)},o(r){M(t),l=!1},d(r){r&&g(s),i[e].d(r)}}}function ue(a){let e,t,s,l,c,i,o;t=new J({props:{monthDate:"now",heightPx:a[0],anySelected:!!a[1],selected:!!a[1]&&a[1].data.end===void 0}});let r=R(a[2]),n=[];for(let f=0;f<r.length;f+=1)n[f]=X(W(a,r,f));const v=f=>M(n[f],1,1,()=>{n[f]=null});return{c(){e=y("div"),j(t.$$.fragment),s=E(),l=y("div"),c=H("..."),i=E();for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var h=p(e);q(t.$$.fragment,h),s=I(h),l=S(h,"DIV",{class:!0,style:!0});var d=p(l);c=A(d,"..."),d.forEach(g),i=I(h);for(let u=0;u<n.length;u+=1)n[u].l(h);h.forEach(g),this.h()},h(){P(l,"class","flex items-center"),C(l,"height",a[0]+"px"),P(e,"class","flex min-w-[110px] flex-col items-end")},m(f,h){N(f,e,h),F(t,e,null),m(e,s),m(e,l),m(l,c),m(e,i);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(f,[h]){const d={};if(h&1&&(d.heightPx=f[0]),h&2&&(d.anySelected=!!f[1]),h&2&&(d.selected=!!f[1]&&f[1].data.end===void 0),t.$set(d),(!o||h&1)&&C(l,"height",f[0]+"px"),h&7){r=R(f[2]);let u;for(u=0;u<r.length;u+=1){const V=W(f,r,u);n[u]?(n[u].p(V,h),D(n[u],1)):(n[u]=X(V),n[u].c(),D(n[u],1),n[u].m(e,null))}for($(),u=r.length;u<n.length;u+=1)v(u);ee()}},i(f){if(!o){D(t.$$.fragment,f);for(let h=0;h<r.length;h+=1)D(n[h]);o=!0}},o(f){M(t.$$.fragment,f),n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)M(n[h]);o=!1},d(f){f&&g(e),G(t),ae(n,f)}}}function L(a,e,t){return a?a.data.end?.month===e&&a.data.end?.year===t||a.data.start.month===e&&a.data.start.year===t:!1}function me(a,e,t){let s;le(a,se,n=>t(1,s=n));let{totalMonths:l}=e,{monthHeightPx:c}=e,{latestEnd:i}=e,{earliestStart:o}=e;const r=Array.from({length:l}).map((n,v)=>{const f=(l-v-1+o.month)%12||12,h=i.year-Math.floor((v+12-i.month)/12);return{month:f,year:h}});return a.$$set=n=>{"totalMonths"in n&&t(3,l=n.totalMonths),"monthHeightPx"in n&&t(0,c=n.monthHeightPx),"latestEnd"in n&&t(4,i=n.latestEnd),"earliestStart"in n&&t(5,o=n.earliestStart)},[c,s,r,l,i,o]}class be extends Y{constructor(e){super(),Z(this,e,me,ue,x,{totalMonths:3,monthHeightPx:0,latestEnd:4,earliestStart:5})}}export{be as default};
